<html>
<body>
<h2>【DB概論】データベース設計の目的・まとめ</h2>

<p>　データベース設計に求められる要素は、以下の3点に集約されます。</p>
<ul>
<li><strong>信頼性の高い</strong>データベースの構築</li>
<li><strong>拡張性の高い</strong>データベースの構築</li>
<li><strong>ユーザー要求の性能を満たす</strong>データベースの構築</li>
</ul>
<p>　設計の目的をブレイクダウンします。</p>
<div class="cmsList">
<ul>
<li><strong>信頼性の高い</strong>データベースの構築
<ol>
<li>整合性が維持できる</li>
<li>障害から迅速に、確実に回復できる</li>
</ol>
</li>
<li><strong>拡張性の高い</strong>データベースの構築
<ol>
<li>アプリケーションの追加・拡張が容易にできる</li>
<li>データが一元管理されている</li>
</ol>
</li>
<li><strong>ユーザー要求の性能を満たす</strong>データベースの構築
<ol>
<li>同時実行性が確保できる</li>
<li>効率のよいデータアクセスが可能</li>
</ol>
</li>
</ul>
</div>
<p>　それぞれがどのように実現されるのかをまとめます。 （）内は実現主体を示します。</p>
<h4>信頼性の高いデータベースの構築</h4>
<div class="cmsList">
<ol>
<li>整合性が維持できる
<ul>
<li>1データ1カ所の原則に従ってデータベースを設計し、データの一元管理を実現する</li>
<li>更新時、排他行レベルロックを行い、同時実行制御を実現する（DBMS）</li>
<li>トランザクション単位でのSQL文の実行制御を実現する（アプリケーション設計）</li>
</ul>
</li>
<li>障害から迅速に、確実に回復できる（DBMS）</li>
</ol>
</div>
<h4>拡張性の高いデータベースの構築</h4>
<div class="cmsList">
<ol>
<li>アプリケーションの追加・拡張ができる
<ul>
<li>トップダウンで企業戦略を反映した設計を実現する（DB設計）</li>
<li>複数の部門で共通に使えるデータベースを設計し、現状の業務だけでなく、将来利用する可能性のあるデータの蓄積を実現する（DB設計）</li>
<li>拡張性を考慮し、属性ではなくエンティティとして設計する（DB設計）</li>
</ul>
</li>
<li>データが一元管理されている
<ul>
<li>正規化の手順を踏んでデータベースの作成を実現する（DB設計）</li>
</ul>
</li>
</ol>
</div>
<h4>ユーザー要求の性能を満たすデータベースの構築</h4>
<div class="cmsList">
<ol>
<li>同時実行性が確保できる
<ul>
<li>ロックが保持される期間はトランザクションなので、トランザクションが必要最小限の長さになる設計を実現する（アプリケーション設計）</li>
<li>更新と読み取りが同時に実行された場合は、ロックをかけずに読み取り、一貫性の機能を利用する（DBMS）</li>
</ul>
</li>
<li>効率のよいデータアクセスが可能
<ul>
<li>索引の作成を実現する（DB設計）</li>
<li>結合処理を意識したアプリケーションの設計を実現する（アプリケーション設計）</li>
</ul>
</li>
</ol>
</div>
<p>　これらの要件を満たすことができるように意識しつつ、データベースを設計します。</p>
<p>　データベース設計の手順は3つのフェイズに分けられ、それぞれのフェイズごとに目的が異なります。他の工程との連携も視野に入れながら、それぞれのフェイズの手順を概観していきます。</p>
<h4>データベース設計の手順</h4>
<p>　最初のフェイズである<strong>概念設計</strong>では、業務で扱う情報を整理し、概念ER図として表します。 経営トップの方針および新システムの企業内の位置付けなどを調査し、必要な情報を予測して拡張性を持たせた設計を行います。</p>
<p>　同時に、業務の観点から必要な情報を漏れなく管理できるように設計します。抽出した情報は、正規化し、あるべき姿で情報を整理し、概念ER図に表します。</p>
<p>　2番目のフェイズである<strong>論理設計</strong>では、データ構造の変更を最小限に抑えながら性能向上を図ります。 インプットとして、アプリケーション開発工程の基本設計書、ユーザー定義の性能要件、概念ER図、データベースの種類（階層型かネットワーク型かリレーショナル型か）を使用します。</p>
<p>　論理設計では、以下のような設計を行います。</p>
<ul>
<li>正規化をなるべく崩さないようにしつつ、SQLを分析し、索引を作成します。または正規化を崩すことによって最適化を行います。</li>
<li>必要な属性をすべて洗い出すために、アプリケーションで必要なフラグ類を洗い出します。</li>
<li>エンティティを確定し、属性をすべて洗い出した後、それを論理ER図に表します。</li>
<li>セキュリティの観点から、業務とユーザーの対応付けを行い、必要な権限管理の設計を行います。ビューの定義も行います。</li>
<li>論理ER図をデータベースのオブジェクトに変換するために必要な情報を定義します。アウトプットとして、論理ER図、表、索引、ビューの定義を完成させます。</li>
</ul>
<p>　3番目のフェイズである<strong>物理設計</strong>では、ユーザー要件として性能要件や可用性を考慮したデータベースを設計します。そのために必要なハードウェア資源、ミドルウェアの選定、パラメータの設定を行います。</p>
<p>　インプットとして、表、索引、ビューの定義、ユーザー定義の性能要件、予測データ量、トランザクション量、方式設計で定義されたシステム要件を用意し、DBMSを選定します。</p>
<p>　データベース製品で利用する機能を選択し、パラメータ値の設定、オブジェクトの作成、メモリ要件の定義、ディスク配置の定義等、方式設計の物理的な詳細を設定します。</p>
<p>　アウトプットとして、方式のシステム構成の詳細設定（メモリ構成、ディスクレイアウト）、データベース機能の選択と各種オブジェクト、データベース運用時の各種パラメータを決定します。</p>
</body></html>

